<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>drag_drop1</title>
    <style>
    html,body,canvas {
        width:100%;
        height: 100%;
        margin: 0;
        color: #001D2E;
        background-image: url('img/nodejs.png');
        border-style: rgba(255,255,255,0.1);
    }
    </style>
    
</head>
<body>
    <div id="capture" style="padding: 10px; background: #f5da55">  
        <canvas id="mycanvas"></canvas>
    </div>

    <script src="node_modules/html2canvas/dist/html2canvas.min.js"></script>
    <!-- <script src="js/canvas.js"></script> -->
    <script>
        html2canvas(document.querySelector("#capture"),{
            allowTaint: true
        }).then(canvas1 => {
            console.log(canvas1);
            // var img = canvas1.toDataURL();
            // console.log(img);
              //声明img
            var img = new Image()
            img.crossOrigin = "Anonymous";//解决跨域图片问题，就是上面提及的
            img.src =  canvas1.toDataURL();
            document.getElementsByTagName('body')[0].appendChild(canvas);
            // console.log(canvas);
            // Export the canvas to its data URI representation


        //     var base64image = canvas.toDataURL();

        // // Open the image in a new window
        //     window.open(base64image , "_blank");
        });
    </script>
    
</body>
</html>